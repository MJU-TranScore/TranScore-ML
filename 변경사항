2025.06.04 ìˆ˜ì •ì‚¬í•­
src.make_score.MakeScore
- ë³€ê²½
    - from music21ì— meter ì¶”ê°€
    - merge_staff_lines ë©”ì†Œë“œ
    - convert_df_to_score ë©”ì†Œë“œ 


///////////////////////
2025.06.03 ìˆ˜ì •ì‚¬í•­ 
"""
pip install pymupdf ë¥¼ ì¶”ê°€ë¡œ ì„¤ì¹˜(pdfë¥¼ ì´ë¯¸ì§€ë¡œ ë°”ê¿”ì£¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬)
img_list ë§Œë“œëŠ” ë¶€ë¶„ì´ë‘ make_score í˜¸ì¶œí•˜ëŠ” ë¶€ë¶„ì€ main2.py ì°¸ê³ 
"""
src.exception.__init__.py
- ì¶”ê°€
    - __all__ ë¶€ë¶„ "NotImageError" ì¶”ê°€

src.exception.NotImageError.py í´ë˜ìŠ¤ ì¶”ê°€

src.fileconverter.ImageConverter.py í´ë˜ìŠ¤ ì¶”ê°€ 

src.makexml.MakeScore.py
- ë³€ê²½
    - from music21ì— layout, key ì¶”ê°€
    - convert_df_to_score ë©”ì†Œë“œ 
    - change_key ë©”ì†Œë“œ 

-ì¶”ê°€
    - correct_accidental ë©”ì†Œë“œ

model.weight
- ìƒˆë¡œìš´ ëª¨ë¸ë¡œ êµì²´ 


/////////////////////
2025.05.28 ì´í›„ ìˆ˜ì •ì‚¬í•­
src.exception ë””ë ‰í† ë¦¬ì— ê°ì¢… exception í´ë˜ìŠ¤ ì‘ì„±

src.makexml.MakeScore.py
- ë³€ê²½
    - imgs_to_df ë©”ì†Œë“œ 
    - convert_df_to_score ë©”ì†Œë“œ 
- ì¶”ê°€
    - from src.exception.EmptyDataFrameError import EmptyDataFrameError ì¶”ê°€
    - from src.exception.EmptyImageError import EmptyImageError ì¶”ê°€ 

src.makexml.MeasureIterator.py
- ì¶”ê°€
    - get_cur_clef ë©”ì†Œë“œ ì¶”ê°€

src.makexml.Pitch.py
- ë³€ê²½
    - find_pitch_from_y ë©”ì†Œë“œ 

src.makexml.ScoreInfo.py
- ì „ì²´ ìˆ˜ì • 

src.makexml.StafflineUtils.py
- ì¶”ê°€
    - find_note_head_in_box ë©”ì†Œë“œ 
    - detect_note_head_opencv ë©”ì†Œë“œ 

////////////////////////
makexml/MakeScore.py
- ì¶”ê°€
    - find_articulation_for_note_rest ë©”ì†Œë“œ
    #- interval preset.py ì—ì„œ Fs->Fsharp
    #- MakeScore.py ì—ì„œ # ğŸ” staff_lineì´ ê°ì§€ë˜ì§€ ì•Šì•˜ì„ ê²½ìš° â†’ clef ê¸°ë°˜ fallback ì‹œë„
    #- StaffUtils.py ì—ì„œ     #fallback ë¡œì§ (ìŒìë¦¬í‘œë¡œ staff_line ì¶”ì •)
    #- MakeScore.py ì—ì„œ ë°•ìí‘œ íƒì§€ ì‹¤íŒ¨ ì‹œ ê¸°ë³¸ 4/4 ë°•ìë¡œ fallback ë¡œì§ ì¶”ê°€
    # -  # pitch ê³„ì‚° ì „ staff_gap ê³„ì‚° ì¶”ê°€ 
    # - fallback] note_head ë¯¸íƒì§€ â†’ bounding box ê¸°ë°˜ íƒìƒ‰ ì‹œë„" ë¡œì§ ì¶”ê°€
- ë³€ê²½
    - from music21 import chord,  stream, note, meter, key, clef, metadata, interval, bar, expressions # import í•  ìš”ì†Œ ë” ì¶”ê°€í•¨ 
    - convert_df_to_score ë©”ì†Œë“œ
    - def convert_df_to_score ë©”ì†Œë“œ
    - from src.makexml.TextProcesser import TextProcesser ì£¼ì„ì²˜ë¦¬    
    - ìŒìë¦¬í‘œ fallback ë©”ì†Œë“œ ìˆ˜ì •
    - ëì„¸ë¡œì¤„ ë‚˜ì˜¤ê²Œ í•˜ëŠ” ë¡œì§ ì‚­ì œ (light-hevay) ë¶€ë¶„ ì‚­ì œ
makexml/Pitch.py
- ì¶”ê°€
    - from music21.pitch import Accidental # import êµ¬ë¬¸ ì¶”ê°€ 
- ë³€ê²½
    - find_pitch_from_y ë©”ì†Œë“œ
    - find_note_head ë©”ì†Œë“œ 

makexml/ScoreInfo.py
- ì „ì²´ ë³€ê²½

makexml/ScoreIterator.py
- ì „ì²´ ë³€ê²½

makexml/MeasureIterator.py
- ì „ì²´ ë³€ê²½

makexml/TextProcesser.py
- ì „ì²´ ì£¼ì„ì²˜ë¦¬ 

makexml/StafflineUtils.py
- ì¶”ê°€
    - fallback_staffline_from_clef ë©”ì†Œë“œ
    - detect_note_head_opencv ë©”ì†Œë“œì™€ find_note_head_in_box ë©”ì†Œë“œ

makexml/IntervalPreset.py
- ë³€ê²½
    - kEY_ORDER ë³€ìˆ˜ 

model
- ì¶”ê°€
    - note_head_template.png ì´ë¯¸ì§€ ì¶”ê°€ 

ê·¸ ì™¸ main.pyì—ì„œ 
from src.makexml.TextProcesser import TextProcesser
ë¶€ë¶„ ì£¼ì„ì²˜ë¦¬í•˜ê³  ê°€ì‚¬ í…ŒìŠ¤íŠ¸ í•˜ëŠ” ë¶€ë¶„ ì£¼ì„ì²˜ë¦¬í•´ì•¼í•¨
mainì€ ê°ì í™˜ê²½ì´ ë‹¤ë¥´ë¯€ë¡œ ê¹ƒí—ˆë¸Œì— í‘¸ì‹œí•˜ì§€ ì•ŠìŒ. 
main2.py íŒŒì¼ì„ ë§Œë“¤ì–´ì„œ í‘¸ì‰¬í•˜ì˜€ìŒ - ê·¸ë¦¬ê³  import imageconverter ì¶”ê°€í•¨ 
=======================


<2025-05-27 ì»¤ë°‹ ì‚¬í•­>
1. modelì— note_head_template.png íŒŒì¼ ì—…ë¡œë“œ
2. pitch.py íŒŒì¼ ìˆ˜ì •

from music21.pitch import Accidental

                    n.accidental = Accidental('sharp')
                    n.accidental = Accidental('flat')
                    n.accidental = Accidental('natural')

3.m.rightBarline = bar.Barline("light-heavy")  # âœ… ë§ˆì§€ë§‰ ë§ˆë””ì— ì¢…ê²°ì¤„ ì¶”ê°€
part.append(m)                                # ë§ˆì§€ë§‰ ë§ˆë””ë¥¼ íŒŒíŠ¸ì— ì¶”ê°€
score.append(part)                            # íŒŒíŠ¸ë¥¼ ì „ì²´ ì•…ë³´ì— ì¶”ê°€

4.         lyrics_list = TextProcesser.find_text_list(lyrics_df, row["x1"], row["x2"])


3,4ë²ˆì€ makescore.py ìˆ˜ì • 

=======================
